<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>
        <script type="text/javascript" language = "javascript">
        var mqtt;
        var reconnectTimout = 2000;
        var host = "192.168.0.139";
        var port = 9001;

        function onConnect(){
            //once connection has been made make a subscription and send a message
            console.log('Connected');
            mqtt.subscribe('testTopic');
            message = new Paho.MQTT.Message('Hello World from JavaScript');
            message.destinationName = 'testTopic';
            mqtt.send(message);
    
}
        function MQTTconnect(){
            console.log('Connecting to host ' + host + " : " + port);
        }

        mqtt = new Paho.MQTT.Client(host, port, "");
        var options = {
            timeout: 3,
            onSuccess: onConnect
        };
    mqtt.connect(options);
    
        </script>
    </head>
    <body>
    <h1>Main Body</h1>
    <p>This is a gittest!</p>
    <script>MQTTconnect();</script>
</body>

</html>